<Page
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:RyzenAdjUWP"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    xmlns:Custom="using:Microsoft.UI.Xaml.Controls.Primitives"
    x:Class="RyzenAdjUWP.MainPage"
    mc:Ignorable="d"
    d:DesignWidth="400"
    d:DesignHeight="400"
    muxc:BackdropMaterial.ApplyToRootOrPageBackground="True">

    <Page.Resources>
        <local:WattConverter x:Key="WattConverter"/>
        <local:AdjustSliderCommand x:Key="SliderIncrease5" Step="5"/>
        <local:AdjustSliderCommand x:Key="SliderIncrease1" Step="1"/>
        <local:AdjustSliderCommand x:Key="SliderDecrease5" Step="-5"/>
        <local:AdjustSliderCommand x:Key="SliderDecrease1" Step="-1"/>
    </Page.Resources>

    <StackPanel Padding="20">
        <TextBlock VerticalAlignment="Center" TextWrapping="Wrap" Text="Power Limit" FontSize="16" FontWeight="Bold"/>
        <Slider x:Name="TdpSlider" Margin="0,5" ValueChanged="TdpSlider_OnValueChanged"/>
        <Grid Margin="0,0,0,5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>
            <Button Grid.Column="0" HorizontalAlignment="Stretch" Margin="0,0,5,0" Content="-5"
                    Command="{StaticResource SliderDecrease5}" CommandParameter="{Binding ElementName=TdpSlider}"/>
            <Button Grid.Column="1" HorizontalAlignment="Stretch" Margin="5,0" Content="-1"
                    Command="{StaticResource SliderDecrease1}" CommandParameter="{Binding ElementName=TdpSlider}"/>
            <TextBlock Grid.Column="2" HorizontalAlignment="Center" VerticalAlignment="Center" Text="{Binding Value, Converter={StaticResource WattConverter}, ElementName=TdpSlider}"/>
            <Button Grid.Column="3" HorizontalAlignment="Stretch" Margin="5,0" Content="+1"
                    Command="{StaticResource SliderIncrease1}" CommandParameter="{Binding ElementName=TdpSlider}"/>
            <Button Grid.Column="4" HorizontalAlignment="Stretch" Margin="5,0,0,0" Content="+5"
                    Command="{StaticResource SliderIncrease5}" CommandParameter="{Binding ElementName=TdpSlider}"/>
        </Grid>
        <Button x:Name="LaunchBackendButton" Margin="0,5" Click="LaunchBackendButton_OnClick">Launch Backend</Button>
    </StackPanel>
</Page>
